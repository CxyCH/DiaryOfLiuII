# SLAM中文论文阅读手记   

----
#### `S98P01` 《大规模环境下基于图优化SLAM的图构建方法》
- ***来源：《哈尔滨工业大学学报》 2015.01***  
- **==主要内容==**  
- 1. 分析总结了基于图优化同步定位和地图构建(SLAM)前端图构建过程的各种方法. 对现有SLAM研究方法进行分类,指出基于Kalman滤波器、粒子滤波器、图优化方法的优缺点;  
- 2. 重点介绍SLAM问题的三种图建模方法,即动态贝叶斯网络的图建模方法、基于因子图的建模方法、基于Markov随机场的建模方法。  
- 3. 对图优化SLAM方法前端图构建的核心环节———帧间数据关联和环形闭合检测方法进行了分析。  
- 4.讨论了特征提取、特征匹配、运动估计、环形闭合检测等方面的最新研究成果.  
- **==0 历史==**  
- 1. 1987：SLAM开创性论文《On the representation of spatial uncertainty》。  
- 2. 1991：SLAM概念的提出《Simultaneous map building and localization for an autonomous mobile robot》。  
- 3. 1999：ISRR（International Symposium of Robotics Research）举办了SLAM的专题讨论会《A computationally efficient method for large-scale concurrent mapping and localization》。  
- 4. 近期的机器人国际会议（ICRA, IROS, Robio）都有SLAM专题讨论，对早期SLAM研究方法的总结参见《Simultaneous localization and mapping: Part I》。  
![](https://github.com/liuii/DiaryOfLiuII/blob/master/SLAM/Images/S98P01_1.png?raw=true)  
- 5. SLAM系统本质上是一个系统状态的估计问题，其求解方法大致分为（1）基于卡尔曼（Kalman）滤波器的方法；（2）基于粒子滤波器的方法；（3）基于图优化的方法。其中前两种方法都是基于贝叶斯  
- 6. 基于不同的后验概率表示方式，有多种基于KF的方法：EKF-SLAM、UKF-SLAM、扩展信息滤波（EIF）、稀疏扩展滤波（SEIF）。  
- 7. 基于粒子滤波（PF）方法的Rao-Blackwellized粒子滤波器（RBPF）方法：该方法假定地图特征点之间彼此是独立无关的,仅通过机器人的轨迹关联,将 SLAM问题分解成机器人路径估计后验概率和地图部分的后验概率两个后验概率的乘积形式。通过分解使基于PF的SLAM方法的计算效率大大提高。  
- 8. 基于RBPF的方法：FastSLAM和FastSLAM2.0。与KF方法相比，FastSLAM能够用于非线性系统（评：但是EKF就是一种将KF应用于非线性系统的方法嘛。）  
- 9. 基于贝叶斯状态估计理论的方法：可以实现地图的在线更新，具有**较好的实时性**。但这类滤波方法多采用增量式的地图创建过程，由于系统参数和传感器观测等存在的不确定性，会造成误差的逐渐累积，最终可能导致地图的不一致性。在大规模环境中应用时，基于递归Bayes状态估计方法**很难保证地图的一致性和精度**。  
- 10. 基于图优化的SLAM方法：**采用了全局优化处理方法，能获得更好的建图效果，是大规模环境下SLAM问题的主要研究方法。**国外一些学者通常将这类方法划分为前端和后端两大部分。前端主要解决图的构建问题，而后端则主要是基于图的优化估计。  
- **==1 基于图优化的 SLAM 方法框架==**  
- 1. SLAM问题可以转化为最小二乘描述，通过里程计约束和闭环约束来转化为最小二乘问题。  
- 2. 模型中的**节点**对应于机器人及环境组成的系统在不同时刻的状态,**边**则描述了系统状态(节点)之间的约束关系。基于图优化的方法利用所有的观测信息来优化估计机器人完整的运动轨迹，并在此基础上，进一步得到环境地图，也称为全SLAM方法(full SLAM)。  
-3 与顺序数据关联及闭环检测不同,图优化部分一般不直接处理观测数据,而是在前端构造图的基 础上进行优化.  
- 4. SLAM问题可以用不同类型的图来建模。目前主要有（1）基于动态贝叶斯网络的图建模方法；（2）基于因子图的建模方法；（3）基于Markov随机场的建模方法。  
- 5. 动态贝叶斯网络（DBN）可以参考《Probabilistic Robotics》。  
- 6. 因子图是一种**二部无向图**。对SLAM进行建模时，可以将SLAM的联合概率分布估计分解为多个因子的概率分布的乘积。根据其图中是否包括路标位置节点可分为两类: （1）有路标因子的因子图和（2）无路标因子的位姿图。后者即为位姿图（PoseGraph），是目前基于图优化方法中研究的最为广泛的一类表示方法.  
- 7. 在MRF图结构中,采用邻接矩阵来求解最小二乘问题,邻接矩阵和优化问题中的Hessian 矩阵是等价的。  
- **==2 顺序数据关联==**  
- 定义：利用两个连续帧间的特征点计算相对运动（变换）。基于单目视觉的3D重建及运动估计是经典的从运动恢复结构（Structure from Motion，SFM）问题。  
- 1. 基于3D的数据关联方法：利用SVD分解来进行求解变换矩阵（《Least- squares fitting of two 3-D point sets》，1987）以及四种求解方法比较（《Estimating 3-D rigid body transformations: a comparison of four major algorithms》，1997）。  
- 2. 用点到面的距离（《Object modeling by registration of multiple range images》，1992）和面到面的距离（《Generalized-ICP》，2009）来提高收敛速度，减少迭代次数。  
- 3. 基于2D的图像关联方法：（1）基于光流的运动估计方法和（2）基于特征点匹配的方法。基于光流的方法由于计算量大及其他问题,在SLAM中极少采用。  
- 4. 特征检测：是至关重要的环节，对图像进行特征提取，需要考虑特征的准确性、显著性、鲁棒性以及高效性），包括：Harris角点、Shi-Tomasi角点、SURF角点、STAR关键点（即CenSurE）、FAST关键点、SIFT检测、MSER区域检测。  
- 5. SIFT特征提取的方法计算复杂度高，SURF在SIFT基础上进行了简化,采用格子滤波来近似高斯滤波，大大提高了计算效率，但在鲁棒性上比SIFT稍差。BRIEF特征描述子和SIFT一样，考虑了对光照变化、模糊、畸变等，但对旋转变化比较敏感，基于BRIEF描述子的这一不足，改进的FAST方法。ORB方法则综合Fast和BRIEF两种方法的优势。  
- 6. RANSAC是常用的特征匹配算法，利用几何约束关系剔除错误的匹配。  
- 7. 在运动估计中，在知道相机内参的情况下，对两幅图像之间的本质矩阵E进行分解计算，即可得到摄像机的运动。可以利用RANSAC求解本质矩阵E。  
- 8. 多传感器融合：目前研究较多的融合方法是将惯性测量单元（IMU）与摄像机相结合。根据融合的信息级别来看，这种融合主要有松散耦合和紧耦合两种模式。  
- 9. 松散耦合是在较高信息层次上进行融合的方法，如先利用摄像机相邻两幅图像估计得到相对运动，然后和IMU的运动信息进行融合，或先由IMU输出估计得到旋转运动分量，然后和基于图像特征的运动估计进行融合。松散耦合的优点是计算量相对较小,但这是以损失信息为代价的，在微型飞行器（MAV）这类资源受限的情况下应用较多。  
- 10. 紧耦合模式是在两种传感器的特征级别进行融合。这类方法能更充分地应用传感器信息，获得更高的精度。在紧耦合模式中，根据融合输出结果可分为视觉-IMU里程计(VIO)和EKF-SLAM两类，前者在状态矢量中只包括了传感器的位姿，后者则将环境特征点的位置也作为状态矢量参数。  
- **==3 闭环检测==**  
- 环形闭合检测的困难来自于（1）感知的歧义。如场景中存在大量相似的事物，如室内的桌 子、椅 子，室外的树木、建筑等，增加了判断的难度。（2）传感器只能获得环境的部分信息，观测数据的可区分性受限。（3）数据规模很大。在进行环闭检测时，需要将当前的观测数据与之前已有的观测数据作比较，计算它们之间的相似性或对它们出自同一地点的概率进行估计，要处理的数据随运行时间或访问过的地点的增加而不断增大，要求能处理的数据规模非常大。  
- 1. 《SLAM-Loop closing with visually salient features，2005》通过信息熵检测图像中的显著区域并提取位于区域内的稳定特征点，然后利用提取的特征来构建场景数据库。  
- 2. 《Visual loop closure detection with a compact image descriptor， 2012》采用图像的Gabor-Gist描述子，并通过PCA（主元分析）降维。  
- 3. 《Loop-closure detection with scale invariant visual features， 2011》利用不同尺度下特征匹配重现性的差异对特征进行选择，用尺度不变性视觉特征来检测闭环。  
- 4. 《Robust place recognition with stereo cameras》利用条件随机场匹配（CRF-matching）对特征的外观、分布等做一致性检验。  
- 5. 《Mobile robot global localization with non-quantized SIFT features》通过各自的图像聚类方法得到最具代表性的关键帧图像，用以描述地图中的显著地点，以减少存储地图所需的存储空间,并减少匹配定位计算量。  
- 6. 基于词袋（BOW）法的环闭检测方法，主要思想是将从图像中提取的局部特征进行聚类（如通过K均值聚类方法等），将连续变化的特征转变为离散化的“词”，然后采用词的统计直方图对场景进行描述。  

